--- pmd-4.2.1/bin/build.xml.orig	2008-04-20 23:38:35.000000000 +0200
+++ pmd-4.2.1/bin/build.xml	2008-04-20 23:39:55.000000000 +0200
@@ -14,7 +14,6 @@
 	<property name="asm.version" value="3.1" />
 	<property name="jaxen.version" value="1.1.1" />
 	<property name="junit.version" value="4.4" />
-	<property name="retroweaver.version" value="2.0.5" />
 
 	<!--Settings-->
 	<property name="outputTestResultsToFile" value="true" />
@@ -80,60 +79,16 @@
 		</jar>
 	</target>
 
-	<taskdef name="retroweaver" classname="net.sourceforge.retroweaver.ant.RetroWeaverTask">
-		<classpath>
-			<pathelement location="${dir.lib14}/retroweaver-${retroweaver.version}.jar"/>
-			<pathelement location="${dir.lib14}/retroweaver-rt-${retroweaver.version}.jar"/>
-			<pathelement location="${dir.lib14}/backport-util-concurrent.jar"/>
-			<pathelement location="${dir.lib14}/asm-commons-${asm.version}.jar"/>
-			<pathelement location="${dir.lib14}/asm-util-${asm.version}.jar"/>
-			<pathelement location="${dir.lib}/asm-${asm.version}.jar"/>
-		</classpath>
-	</taskdef>
-
 	<target name="weavejunit" depends="jar">
-		<path id="retroweaverclasspath">
-			<pathelement location="${dir.lib14}/retroweaver-rt-${retroweaver.version}.jar"/>
-			<pathelement location="${dir.lib14}/backport-util-concurrent.jar"/>
-			<pathelement location="${dir.lib}/asm-${asm.version}.jar"/>
-			<pathelement location="${jvm14.runtime}" />
-			<pathelement location="${dir.lib}/jaxen-${jaxen.version}.jar" />
-			<pathelement location="${dir.lib14}/junit.jar" />
-			<pathelement location="${ant.jar}" />
-		</path>
-
-		<retroweaver inputjar="${dir.lib}/junit-${junit.version}.jar" outputjar="${dir.lib14}/junit.jar" target="1.4" failonerror="true" verify="true">
-			<classpath refid="retroweaverclasspath" />
-		</retroweaver>
 	</target>
 
 	<target name="weave" depends="jar, weavejunit">
 		<fail unless="ant.jar" message="ant.jar location is not defined properly" />
 		<fail unless="jvm14.runtime" message="jvm14.runtime (i.e. rt.jar) location is not defined properly" />
 
-		<path id="retroweaverclasspath">
-			<pathelement location="${dir.lib14}/pmd14-${version}.jar" />
-			<pathelement location="${dir.lib14}/pmd14-test-${version}.jar" />
-			<pathelement location="${dir.lib14}/retroweaver-rt-${retroweaver.version}.jar"/>
-			<pathelement location="${dir.lib14}/backport-util-concurrent.jar"/>
-			<pathelement location="${dir.lib}/asm-${asm.version}.jar"/>
-			<pathelement location="${jvm14.runtime}" />
-			<pathelement location="${dir.lib}/jaxen-${jaxen.version}.jar" />
-			<pathelement location="${dir.lib14}/junit.jar" />
-			<pathelement location="${ant.jar}" />
-		</path>
-
-		<retroweaver inputjar="${dir.lib}/pmd-${version}.jar" outputjar="${dir.lib14}/pmd14-${version}.jar" target="1.4" failonerror="true" verify="true">
-			<classpath refid="retroweaverclasspath" />
-		</retroweaver>
-
 		<jar jarfile="${dir.lib}/pmd-test-${version}.jar"
 			includes="test/net/sourceforge/pmd/**/**,test/net/sourceforge/pmd/testframework/**/**"
 			excludes="test/net/sourceforge/pmd/testframework/**/**" basedir="${dir.build}" />
-
-		<retroweaver inputjar="${dir.lib}/pmd-test-${version}.jar" outputjar="${dir.lib14}/pmd14-test-${version}.jar" target="1.4" failonerror="true" verify="true">
-			<classpath refid="retroweaverclasspath" />
-		</retroweaver>
 	</target>
 
 	<target name="jarsrc" depends="copy,compile" description="Jars up the source directory">
@@ -250,7 +205,6 @@
 			<include name="backport-util-concurrent.jar" />
 			<include name="pmd14-${version}.jar" />
 			<include name="pmd14-test-${version}.jar" />
-			<include name="retroweaver-rt-${retroweaver.version}.jar" />
 			<include name="junit.jar" />
 		</fileset>
 		<fileset dir="${dir.lib}">
